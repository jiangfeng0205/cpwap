<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="lrz.bundle.js"></script>
</head>
<body>
<input type="file" name="" placeholder="">
<script type="text/javascript">
    $('input').change(function () {
        lrz(this.files[0],{
            width:2900,
            quality: 0.9,
            done: function (results) {
                console.log(results);
            }
        }).then(function (rst) {
                console.log(rst);
                $.post('post.php',{img:rst.base64},function(data) {
                    console.log(data);
                });
            }).catch(function (err) {
                // 处理失败会执行
            }).always(function () {
                // 不管是成功失败，都会执行
            });
    })
</script>
</body>
</html>